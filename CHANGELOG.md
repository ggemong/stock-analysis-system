# 변경 로그 (CHANGELOG)

## [1.6.0] - 2026-01-30 (포트폴리오 확장)

### ✨ 새로운 종목 추가 (3개 ETF)
- **TIGER 미국나스닥100** (133690.KS)
  - 미국 나스닥100 지수 추종
  - 기술주 중심 성장 ETF
  
- **SOL 미국배당다우존스** (446720.KS)
  - 미국 다우존스 우량주
  - 배당 수익 + 안정성
  
- **ACE 미국30년국채액티브(H)** (469280.KS)
  - 미국 장기 국채
  - 금리 역상관, 환헤지

### 📊 포트폴리오 구성
- **총 자산**: 13개 → 16개
- **한국 ETF**: 2개 → 5개
- **자산 다변화**: 부동산/금/미국지수/미국배당/미국국채

### 📚 전략 가이드 업데이트
- **STRATEGY_GUIDE.md**
  - 미국 지수 ETF 전략 추가 (추세 추종)
  - 미국 배당 ETF 전략 추가 (배당 + 추세)
  - 미국 국채 ETF 전략 추가 (금리 역상관)

- **Gemini 프롬프트**
  - 8가지 자산 유형별 전략 적용
  - 더 세밀한 맞춤 분석

### 🎯 투자 전략 차별화

| ETF | 전략 | 핵심 |
|-----|------|------|
| 나스닥100 | 추세 추종 | 성장주, 환율 고려 |
| 배당다우 | 배당+추세 | 안정성, 방어적 |
| 미국국채 | 금리역상관 | 헤지, 금리하락 시 |

---

## [1.5.0] - 2026-01-30 (VIX 지표 강화)

### ✨ 새로운 기능
- **VIX 상태 표시** ⭐
  - 텔레그램 메시지에 VIX 값 옆에 상태 표시
  - 4단계 구분: 극도의 안도 / 정상 범위 / 경계 및 공포 / 패닉
  - 이모지로 직관적 표시: 😌 😐 😰 😱
  
### 📊 VIX 수준별 의미
| VIX 범위 | 상태 | 이모지 | 투자 환경 |
|---------|------|--------|----------|
| < 15 | 극도의 안도 | 😌 🟢 | 적극적 매수 |
| 15-25 | 정상 범위 | 😐 ⚪ | 정상 투자 |
| 25-35 | 경계 및 공포 | 😰 🟡 | 포지션 축소 |
| > 35 | 패닉 | 😱 🔴 | 방어 모드 |

### 📚 문서
- **VIX_GUIDE.md** 추가 ⭐
  - VIX 수준별 상세 설명
  - 각 구간별 투자 전략
  - 역사적 사례
  - 실전 활용 팁

### 🔧 개선됨
- `_get_vix_status()` 함수 추가
- 텔레그램 메시지 포맷 개선
- VIX 우선 표시 (다른 지표보다 먼저)

---

## [1.4.0] - 2026-01-30 (검증 및 문서화)

### ✅ 검증 완료
- **페르소나 설정** ✅ 이미 완벽하게 설정됨
  - 20년 경력 퀀트 애널리스트
  - 보수적이고 객관적인 분석 철학
  - 구체적이고 실행 가능한 조언

- **환율/거시경제 필수 반영** ✅ 이미 완벽하게 설정됨
  - Gemini 프롬프트에 "⭐ 필수" 표시
  - 각 지표의 투자 의미 설명
  - 리스크 온/오프 판단 요청

- **UTF-8 인코딩** ✅ 완벽 지원
  - 모든 파일 `encoding='utf-8'` 설정
  - JSON `ensure_ascii=False` 설정
  - 한글 완벽 표시

### 📚 문서
- **GEMINI_GUIDE.md** 추가 ⭐
  - 페르소나 설명
  - 환율/거시경제 지표 의미
  - 파일 인코딩 가이드
  - 문제 해결 FAQ

---

## [1.3.0] - 2026-01-30 (투자 전략 개선)

### ✨ 새로운 기능
- **자산 유형별 투자 전략 적용** ⭐ 핵심 업데이트
  - Gemini AI 프롬프트에 자산별 전략 가이드라인 추가
  - 5가지 전략: 테크주(균형), 부동산(배당스프레드), 금(헤지), 암호화폐(순수추세)
  - 보수적이고 합리적인 분석 유도

### 📚 문서
- **STRATEGY_GUIDE.md** 추가 ⭐
  - 자산 유형별 전략 상세 설명
  - 매수/매도 조건 명시
  - 성공/실패 사례
  - 리스크 관리 원칙

### 🔧 개선됨
- Gemini 프롬프트 대폭 개선
  - 일반적 분석 → 자산별 맞춤 분석
  - 전략 적용 우선순위 명시
  - 보수적 분석 강조

---

## [1.2.0] - 2026-01-30 (장기 이평선 정보)

### ✨ 새로운 기능
- **상세 텔레그램 리포트**
  - 각 주식별 섹터명 표시
  - 현재 주가 및 등락률
  - RSI 점수 및 상태 (과매수/과열/중립/침체/과매도)
  - 정배열/역배열/혼조 표시
  - 골든크로스/데드크로스 감지 (최근 5일 내)
  - 이격도(20일) 및 상태 표시

- **기술적 분석 강화**
  - `calculate_disparity()`: 이격도 계산 함수 추가
  - `detect_ma_alignment()`: 이동평균 배열 및 크로스 감지
  - 이격도 상태: 과열(105%↑), 강세(102%↑), 중립(98-102%), 약세(98%↓), 침체(95%↓)
  - 크로스 감지: 최근 5일 내 골든/데드크로스 발생 여부

- **다변화된 포트폴리오 지원**
  - 미국 주식: AAPL, MSFT, NVDA, AMZN, META, TSLA
  - 한국 주식: 삼성전자, SK하이닉스, 현대차
  - 한국 ETF: TIGER 리츠부동산인프라, ACE KRX금현물
  - 암호화폐: Bitcoin, Ethereum
  - 총 13개 자산 분석 지원

### 🎨 UI/UX 개선
- 텔레그램 메시지에 이모지 추가
  - RSI: 🔴🟠⚪🟡🟢
  - 정배열/역배열: 🟢🟡🔴
  - 크로스: ✨💀⚠️➡️
  - 이격도: 🔥📈➡️📉❄️
  - 매매 신호: 🟢🟢🟢⚪🔴🔴🔴

- 메시지 구조 개선
  - 주식별 구분선 추가
  - 더 읽기 쉬운 레이아웃
  - 한눈에 파악 가능한 정보 배치
  
- **장기 이평선 정보 표시** ⭐ NEW
  - MA20, MA50, MA200 가격 표시
  - 현재가 대비 위치 표시 (⬆️/⬇️)
  - 예시: `MA20: $184.51 ⬆️ | MA50: $180.05 ⬆️ | MA200: $167.42 ⬆️`

### 🔧 개선됨
- `technical_indicators`에 `disparity`와 `ma_alignment` 필드 추가
- `_format_stocks()` 함수 개선
- `stocks.json` 구조 개선 (type, portfolio_summary 추가)

---

## [1.0.1] - 2026-01-30 (의존성 수정)

### 🔧 수정됨
- **requirements.txt 개선**
  - `pandas-ta==0.3.14b0` 제거 (사용하지 않는 패키지)
  - `ta==0.11.0` 주석 처리 (선택사항)
  - 버전 고정 제거 → `>=` 방식으로 변경하여 호환성 향상
  - Python 3.11+ 환경에서 정상 설치 확인

### 📝 문서 개선
- README.md에 의존성 설치 가이드 추가
- GUIDE.md에 문제 해결 섹션 추가
- VALIDATION_REPORT.md 업데이트

### ✅ 테스트
- 새로운 가상환경에서 의존성 설치 성공 확인
- 모든 모듈 import 정상 작동 확인

---

## [1.0.0] - 2026-01-30 (초기 릴리즈)

### ✨ 주요 기능
- **3단계 Fallback 데이터 수집 시스템**
  - 주식: yfinance → Alpha Vantage → FMP
  - 환율: ExchangeRate-API → yfinance
  - 거시경제: FRED API + VIX fallback

- **기술적 분석 엔진**
  - RSI (Relative Strength Index)
  - 이동평균 (MA 20/50/200)
  - 볼린저 밴드
  - MACD
  - 변동성 분석
  - 지지/저항선

- **Gemini AI 통합**
  - 구조화된 JSON 데이터 생성
  - 분석용 프롬프트 자동 생성
  - 텔레그램 자동 전송

- **GitHub Actions 자동화**
  - 매일 지정 시간 자동 실행
  - 실패 시 텔레그램 알림
  - 결과 파일 자동 보관

### 🛡️ 안정성
- 포괄적인 에러 핸들링
- 재시도 로직 (exponential backoff)
- Graceful degradation (API 없어도 동작)
- 상세한 로깅

### 📚 문서
- README.md (프로젝트 개요)
- GUIDE.md (상세 사용 가이드)
- VALIDATION_REPORT.md (검증 리포트)
- .env.example (환경변수 템플릿)

### 🔧 설정
- JSON 기반 설정 시스템
- 하드코딩 제로
- 환경변수 기반 시크릿 관리

---

## 향후 계획

### v1.1.0 (계획)
- [ ] 단위 테스트 추가 (pytest)
- [ ] 캐싱 메커니즘
- [ ] 한국 주식 지원 (KRX)
- [ ] 포트폴리오 최적화 기능

### v1.2.0 (계획)
- [ ] 웹 대시보드
- [ ] 백테스팅 기능
- [ ] 알림 규칙 커스터마이징
- [ ] 다중 사용자 지원

---

**버전 관리 규칙:**
- MAJOR: 호환성 깨지는 변경
- MINOR: 새로운 기능 추가
- PATCH: 버그 수정 및 개선
